{% extends "layout.html" %}

{% block title %}
    Grades
{% endblock %}

{% block main %}
    <h2>Choose a Marking Period</h2>
    <select class="form-select" id="select">
        <option disabled>Choose a MP</option>
        <option id="1">MP1</option>
        <option id="2">MP2</option>
        <option id="3">MP3</option>
        <option id="4">MP4</option>
    </select>

    <button type="button" class="btn btn-primary" id="btn">Select</button>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">Class</th>
                <th scope="col">Grade</th>
            </tr>
        </thead>    
        <tbody id="mp1">
            {% for i in mp1 %}
            <tr>
                <td>{{ i }}</td>
                <td>{{ mp1[i] }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tbody id="mp2" hidden>
            {% for i in mp2 %}
            <tr>
                <td>{{ i }}</td>
                <td>{{ mp2[i] }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tbody id="mp3" hidden> 
            {% for i in mp3 %}
            <tr>
                <td>{{ i }}</td>
                <td>{{ mp3[i] }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tbody id="mp4" hidden>
            {% for i in mp4 %}
            <tr>
                <td>{{ i }}</td>
                <td>{{ mp4[i] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
       var btn = document.getElementById("btn");
       var select = document.getElementById("select");
       var mp1 = document.getElementById("mp1");
       var mp2 = document.getElementById("mp2");
       var mp3 = document.getElementById("mp3");
       var mp4 = document.getElementById("mp4");
       mp = 0;
       
       btn.onclick = (event) => {
            event.preventDefault();
            // show the selected index
            mp = select.selectedIndex;
            switch(mp)
            {
                case 1:
                    reset();
                    mp1.removeAttribute("hidden");
                    break;
                case 2:
                    reset();
                    mp2.removeAttribute("hidden");
                    break;  
                case 3:
                    reset();
                    mp3.removeAttribute("hidden");
                    break;
                case 4:
                    reset();
                    mp4.removeAttribute("hidden");
                    break;  
            }
        }; 

       function reset(){
            mp1.setAttribute("hidden", "hidden");
            mp2.setAttribute("hidden", "hidden");
            mp3.setAttribute("hidden", "hidden");
            mp4.setAttribute("hidden", "hidden");
	    }   
    </script>
{% endblock %}